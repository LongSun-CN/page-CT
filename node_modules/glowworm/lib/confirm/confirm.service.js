import { Injectable } from "@angular/core";
import { ComponentLoaderService } from "../core/component-loader.service";
import { GwConfirmComponent } from "./confirm.component";
var GwConfirmService = (function () {
    function GwConfirmService(componentLoader) {
        this.componentLoader = componentLoader;
    }
    GwConfirmService.prototype.show = function (config) {
        var _this = this;
        var componentRef = this.componentLoader.appendComponentToBody(GwConfirmComponent);
        var confirm = componentRef.instance;
        confirm.title = config.title || confirm.title;
        confirm.content = config.content || confirm.content;
        confirm.confirmClass = config.confirmClass || confirm.confirmClass;
        confirm.confirmText = config.confirmText || confirm.confirmText;
        confirm.zIndex = config.zIndex || confirm.zIndex;
        confirm.cancelText = config.cancelText || confirm.cancelText;
        confirm.onConfirm.subscribe(function () {
            _this._destroy(componentRef);
            config.onConfirm && config.onConfirm();
        });
        confirm.onCancel.subscribe(function () {
            _this._destroy(componentRef);
            config.onCancel && config.onCancel();
        });
    };
    GwConfirmService.prototype._destroy = function (componentRef) {
        if (componentRef) {
            this.componentLoader.removeComponentFormBody(componentRef);
            componentRef = null;
        }
    };
    return GwConfirmService;
}());
export { GwConfirmService };
GwConfirmService.decorators = [
    { type: Injectable },
];
GwConfirmService.ctorParameters = function () { return [
    { type: ComponentLoaderService, },
]; };
//# sourceMappingURL=confirm.service.js.map